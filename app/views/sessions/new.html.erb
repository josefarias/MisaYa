<div class="flex flex-col items-center justify-center w-full space-y-4">
  <h1 class="text-4xl font-bold text-gray-900">
    ¿Cuál es tu ubicación?
  </h1>

  <p class="max-w-lg mx-auto mt-8 text-xl text-center text-gray-700">
    MisaYa necesita tu ubicación para sugerir misas católicas cerca de ti.
  </p>

  <%= form_with url: sessions_path,
        class: "gap-y-4 flex flex-col",
        data: {
          controller: "dynamic-select",
          dynamic_select_path_value: "/states/:param/municipalities"
        } do |f| %>
    <%= field_set_tag do %>
      <%= f.label "Estado", for: :state, class: "block text-sm font-medium leading-5 text-gray-700 mb-1" %>
      <%= f.select "state",
            options_from_collection_for_select(@states, :id, :name),
            {include_blank: "Selecciona estado"},
            class: "form-input text-gray-700 w-full",
            data: {action: "dynamic-select#fetch", dynamic_select_target: "paramInput"} %>
    <% end %>

    <%= field_set_tag do %>
      <%= f.label "Municipio", for: :state, class: "block text-sm font-medium leading-5 text-gray-700 mb-1" %>
      <%= f.select "municipality",
            [],
            {include_blank: "Selecciona municipio"},
            class: "form-input text-gray-700 w-full",
            data: {dynamic_select_target: "select"} %>
    <% end %>

    <%= f.submit "Enviar", class: "self-end btn btn-primary" %>
  <% end %>
</div>
